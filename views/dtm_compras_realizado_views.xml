<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id = "dtm_compras_realizado_accion" model="ir.actions.act_window">
            <field name="name">Compras</field>
            <field name="res_model">dtm.compras.realizado</field>
            <field name="view_mode">tree</field>
            <field name="context">{'search_default_no-comprado': True}</field>
        </record>

        <record id = "dtm_compras_realizado_search" model="ir.ui.view">
            <field name="name">dtm_compras_realizado_search</field>
            <field name="model">dtm.compras.realizado</field>
            <field name ="arch" type="xml">
               <search>
                    <field name="orden_trabajo"/>
                    <field name="proveedor"/>
                    <field name="codigo"/>
                    <field name="nombre"/>
                    <field name="orden_compra"/>
                    <separator/>
                    <filter string="Comprado" name="comprado" domain="[('listo_btn','=',True)]"/>
                    <filter string="Para Comprar" name="no-comprado" domain="[('listo_btn','=',False),('comprado','=',False)]"/>
                    <filter string="Recibido" name="recibido" domain="[('comprado','!=',False)]"/>
                    <filter string="No Recibido" name="no-recibido" domain="[('listo_btn','=',True),('comprado','=',False)]"/>
                    <filter string="No Recibido old" name="no-recibido" domain="[('comprado','=',False)]"/>



               </search>
            </field>
        </record>

        <record id="dtm_compras_realizado_tree" model="ir.ui.view">
            <field name="name">dtm_compras_realizado_tree</field>
            <field name="model">dtm.compras.realizado</field>
            <field name="arch" type="xml">
                <tree delete="true"
                        decoration-info="listo_btn and comprado != 'Recibido'"
                        decoration-success="comprado =='Recibido' and listo_btn"
                        decoration-warning="comprado=='Recibido' and cantidad &gt; cantidad_almacen">
                    <field name="listo_btn" widget="boolean_toggle"/>
                    <field name="orden_trabajo"/>
                    <field name="revision_ot"/>
                    <field name="solicitado"/>
                    <field name="proveedor" options="{'no_open':True}"/>
                    <field name="codigo" options="{'no_open':True}"/>
                    <field name="nombre"/>
                    <field name="cantidad"/>
                    <field name="cantidad_almacen"/>
                    <field name="mostrador"/>
                    <field name="mayoreo"/>
                    <field name="unitario"/>
                    <field name="costo"/>
                    <field name="orden_compra"/>
                    <field name="fecha_recepcion"/>
                    <field name="fecha_compra"/>
                    <field name="comprado"/>
                    <field name="autoriza"/>
                </tree>
            </field>
        </record>

<!--         <menuitem id="dtm_compras_realizado_menu" action="dtm_compras_realizado_accion" />-->
    </data>
</odoo>
